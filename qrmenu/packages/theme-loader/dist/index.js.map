{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["/**\n * QR Menu Theme Loader\n * Loads theme configuration and injects CSS variables\n */\n\nexport async function loadTheme() {\n  try {\n    // Fetch theme configuration from public/theme.json\n    const response = await fetch('/theme.json');\n    if (!response.ok) {\n      throw new Error(`Failed to load theme: ${response.status}`);\n    }\n    \n    const theme = await response.json();\n    \n    // Inject CSS variables into :root\n    injectThemeVariables(theme);\n    \n    return theme;\n  } catch (error) {\n    console.warn('Failed to load theme, using defaults:', error);\n    // Return default theme\n    const defaultTheme = {\n      brandColor: '#D9232E',\n      fontHeading: \"'Inter', sans-serif\",\n      logo: '/placeholder-logo.png',\n      instagram: null,\n      extras: {}\n    };\n    \n    injectThemeVariables(defaultTheme);\n    return defaultTheme;\n  }\n}\n\nfunction injectThemeVariables(theme) {\n  const root = document.documentElement;\n  \n  // Core theme variables\n  if (theme.brandColor) {\n    root.style.setProperty('--brand', theme.brandColor);\n    root.style.setProperty('--brand-rgb', hexToRgb(theme.brandColor));\n  }\n  \n  if (theme.fontHeading) {\n    root.style.setProperty('--font-heading', theme.fontHeading);\n  }\n  \n  // Additional theme variables\n  if (theme.secondaryColor) {\n    root.style.setProperty('--secondary', theme.secondaryColor);\n  }\n  \n  if (theme.backgroundColor) {\n    root.style.setProperty('--background', theme.backgroundColor);\n  }\n  \n  if (theme.textColor) {\n    root.style.setProperty('--text', theme.textColor);\n  }\n}\n\nfunction hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? \n    `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` : \n    '217, 35, 46'; // fallback to default brand color\n} "],"names":["loadTheme","response","theme","injectThemeVariables","error","defaultTheme","root","hexToRgb","hex","result"],"mappings":"AAKO,eAAeA,IAAY;AAChC,MAAI;AAEF,UAAMC,IAAW,MAAM,MAAM,aAAa;AAC1C,QAAI,CAACA,EAAS;AACZ,YAAM,IAAI,MAAM,yBAAyBA,EAAS,MAAM,EAAE;AAG5D,UAAMC,IAAQ,MAAMD,EAAS,KAAM;AAGnC,WAAAE,EAAqBD,CAAK,GAEnBA;AAAA,EACR,SAAQE,GAAO;AACd,YAAQ,KAAK,yCAAyCA,CAAK;AAE3D,UAAMC,IAAe;AAAA,MACnB,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,MAAM;AAAA,MACN,WAAW;AAAA,MACX,QAAQ,CAAA;AAAA,IACT;AAED,WAAAF,EAAqBE,CAAY,GAC1BA;AAAA,EACX;AACA;AAEA,SAASF,EAAqBD,GAAO;AACnC,QAAMI,IAAO,SAAS;AAGtB,EAAIJ,EAAM,eACRI,EAAK,MAAM,YAAY,WAAWJ,EAAM,UAAU,GAClDI,EAAK,MAAM,YAAY,eAAeC,EAASL,EAAM,UAAU,CAAC,IAG9DA,EAAM,eACRI,EAAK,MAAM,YAAY,kBAAkBJ,EAAM,WAAW,GAIxDA,EAAM,kBACRI,EAAK,MAAM,YAAY,eAAeJ,EAAM,cAAc,GAGxDA,EAAM,mBACRI,EAAK,MAAM,YAAY,gBAAgBJ,EAAM,eAAe,GAG1DA,EAAM,aACRI,EAAK,MAAM,YAAY,UAAUJ,EAAM,SAAS;AAEpD;AAEA,SAASK,EAASC,GAAK;AACrB,QAAMC,IAAS,4CAA4C,KAAKD,CAAG;AACnE,SAAOC,IACL,GAAG,SAASA,EAAO,CAAC,GAAG,EAAE,CAAC,KAAK,SAASA,EAAO,CAAC,GAAG,EAAE,CAAC,KAAK,SAASA,EAAO,CAAC,GAAG,EAAE,CAAC,KAClF;AACJ;"}